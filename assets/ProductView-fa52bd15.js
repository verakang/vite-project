import{_ as h,o as n,c as l,a as t,t as o,g as m,v,F as p,f as g}from"./index-cde5024b.js";const{VITE_APP_URL:a,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"vera-select",BASE_URL:"/vite-project/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{product:{},qty:1}},methods:{getProduct(){const{id:i}=this.$route.params,e=`${a}v2/api/${u}/product/${i}`;this.$http.get(e).then(c=>{this.product=c.data.product}).catch(c=>{alert(c.response.data.message)})},addToCart(i,e=1){const c={product_id:i,qty:e};this.$http.post(`${a}v2/api/${u}/cart`,{data:c}).then(d=>{alert(d.data.message),this.$router.push("/products")}).catch(d=>{alert(`${d.response.data.message}，請再次確認。`)})}},mounted(){this.getProduct()}},f=t("h2",{class:"my-4"},"這是產品資訊頁面",-1),y={class:"row"},b={class:"col-sm-6"},k=["src"],E={class:"col-sm-6"},T={class:"badge bg-dark rounded-pill fs-6"},V={class:"mt-3 mb-1"},A={key:0,class:"h5"},D={key:1,class:"mb-3"},U={class:"h6"},q={class:"h5"},x={class:"input-group"},B=["value"];function I(i,e,c,d,s,_){return n(),l(p,null,[f,t("div",y,[t("div",b,[t("img",{class:"img-fluid",src:s.product.imageUrl,alt:""},null,8,k)]),t("div",E,[t("span",T,o(s.product.category),1),t("p",V,"商品描述："+o(s.product.description),1),t("p",null,"商品內容："+o(s.product.content),1),s.product.price===s.product.origin_price?(n(),l("div",A,o(s.product.price)+" 元 ",1)):(n(),l("div",D,[t("del",U,"原價 "+o(s.product.origin_price)+" 元",1),t("div",q,"現在只要 "+o(s.product.price)+" 元",1)])),t("div",null,[t("div",x,[m(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=r=>s.qty=r)},[(n(),l(p,null,g(10,r=>t("option",{value:r,key:`${r}01`},o(r),9,B)),64))],512),[[v,s.qty]]),t("button",{type:"button",class:"btn btn-dark",onClick:e[1]||(e[1]=r=>_.addToCart(s.product.id,s.qty))},"加入購物車")])])])])],64)}const R=h(P,[["render",I]]);export{R as default};
